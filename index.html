<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>Ëä±Êµ∑‰∫íÂä® üéâüå∏</title>
<style>
  body {
    font-family: "Arial", sans-serif;
    text-align: center;
    background: #fffbe6;
    overflow: hidden;
    height: 100vh;
    margin: 0;
    position: relative;
  }
  button {
    font-size: 20px;
    padding: 10px 20px;
    cursor: pointer;
    border: none;
    background-color: #ff7eb9;
    color: white;
    border-radius: 8px;
    margin-top: 20px;
    position: relative;
    z-index: 10;
  }
  button:hover { transform: scale(1.1); }

  .flower {
    font-size: 50px;
    position: absolute;
    cursor: pointer;
    animation: fall 5s linear forwards;
    user-select: none;
  }
  @keyframes fall {
    0% { transform: translateY(-50px) rotate(0deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
  }

  .popup {
    position: absolute;
    font-size: 20px;
    animation: pop 1s ease forwards;
    pointer-events: none;
    font-weight: bold;
  }
  @keyframes pop {
    0% { transform: scale(0); opacity: 0; }
    50% { transform: scale(1.2); opacity: 1; }
    100% { transform: scale(1); opacity: 0; }
  }

  .spark {
    position: absolute;
    font-size: 15px;
    animation: sparkMove 1s forwards;
    pointer-events: none;
  }
  @keyframes sparkMove {
    0% { transform: translate(0,0) scale(1); opacity: 1; }
    100% { transform: translate(var(--x), var(--y)) scale(0.5); opacity: 0; }
  }

  .sender {
    font-size: 16px;
    color: #ff4d6d;
    font-weight: bold;
    position: absolute;
    pointer-events: none;
    animation: fadeUp 2s forwards;
  }
  @keyframes fadeUp {
    0% { opacity: 1; transform: translateY(0); }
    100% { opacity: 0; transform: translateY(-30px); }
  }

  /* Âõ∫ÂÆöËµ†ÈÄÅ‰∫∫ÊñáÂ≠ó */
  .fixed-sender {
    position: fixed;
    bottom: 10px;
    right: 20px;
    font-size: 18px;
    font-weight: bold;
    color: #ff4d6d;
    background: rgba(255, 255, 255, 0.6);
    padding: 5px 10px;
    border-radius: 8px;
    z-index: 999;
  }

  /* ÊºÇÊµÆÊ≥°Ê≥° */
  .bubble {
    position: absolute;
    border-radius: 50%;
    background: rgba(135, 206, 250, 0.4);
    pointer-events: none;
    animation: floatBubble linear forwards;
  }
  @keyframes floatBubble {
    0% { transform: translateY(0) scale(1); opacity: 0.6; }
    100% { transform: translateY(-100vh) scale(0.5); opacity: 0; }
  }
</style>
</head>
<body>

<h1>ÁÇπÊàëÈÄÅËä±Êµ∑ üå∏‚ú®</h1>
<button onclick="showFlower()">ÁÇπÊàëÔºÅ</button>
<div id="flowerContainer"></div>

<!-- Âõ∫ÂÆöËµ†ÈÄÅ‰∫∫ -->
<div class="fixed-sender">Ëµ†ÈÄÅ‰∫∫ÔºöÂπ¥Âπ¥</div>

<audio id="flowerSound" src="https://www.soundjay.com/button/beep-07.wav"></audio>

<script>
const flowers = ["üå∏","üåπ","üå∫","üåº","üå∑"];
const messages = [
  "ÊÑø‰Ω†ÁöÑÊØè‰∏ÄÂ§©ÈÉΩÂÉèËä±‰∏ÄÊ†∑ÁÅøÁÉÇÔºÅ",
  "ÈÄÅ‰Ω†‰∏ÄÊúµËä±ÔºåÂ∏¶Êù•Â•ΩËøêÂíåÂæÆÁ¨ëÔºÅ",
  "Ëä±ÂºÄÂ¶Ç‰Ω†ÔºåÊ∏©ÊöñËÄåÁæé‰∏ΩÔºÅ",
  "Â∏åÊúõ‰Ω†‰ªäÂ§©ÂøÉÊÉÖÂÉèËä±ÂÑø‰∏ÄÊ†∑ÊòéÂ™öÔºÅ",
  "Â∞èËä±‰∏ÄÊúµÔºåÈÄÅ‰Ω†Âø´‰πê‰∏ÄÊï¥Â§©ÔºÅ"
];
const colors = ["#ff4d6d","#ffb347","#4dd2ff","#b19cd9","#70db70"];
const receiverName = "ÊÄùÊç∑"; // Á≠æÊî∂‰∫∫

function showFlower() {
  const flowerContainer = document.getElementById('flowerContainer');
  const sound = document.getElementById('flowerSound');

  // Êí≠ÊîæÈü≥Êïà
  sound.currentTime = 0;
  sound.play();

  // ÈöèÊú∫Ëä±Êúµ
  const flowerEmoji = flowers[Math.floor(Math.random() * flowers.length)];
  const span = document.createElement('span');
  span.className = 'flower';
  span.textContent = flowerEmoji;
  span.style.left = Math.random() * (window.innerWidth - 50) + 'px';
  flowerContainer.appendChild(span);

  // ÁÇπÂáªËä±ÊúµÊòæÁ§∫ÂºπÂá∫Á•ùÁ¶è„ÄÅÊòüÊòüÁâπÊïàÂíåÁ≠æÊî∂‰∫∫ÂêçÂ≠ó
  span.onclick = function(e) {
    showPopup(e.pageX, e.pageY);
    showSparks(e.pageX, e.pageY);
    showReceiver(e.pageX, e.pageY);
  }

  // Ëá™Âä®Âà†Èô§È£òËêΩÂÆåÊàêÁöÑËä±
  setTimeout(() => { if(flowerContainer.contains(span)) flowerContainer.removeChild(span); }, 5000);

  // ÈöèÊú∫ÁîüÊàêÊ≥°Ê≥°
  createBubble();
}

function showPopup(x, y) {
  const popup = document.createElement('div');
  popup.className = 'popup';
  popup.textContent = messages[Math.floor(Math.random() * messages.length)];
  popup.style.left = x + 'px';
  popup.style.top = y + 'px';
  popup.style.color = colors[Math.floor(Math.random() * colors.length)];
  document.body.appendChild(popup);
  setTimeout(() => document.body.removeChild(popup), 1000);
}

function showSparks(x, y) {
  for(let i=0; i<5; i++){
    const spark = document.createElement('div');
    spark.className = 'spark';
    spark.textContent = "‚ú®";
    spark.style.left = x + 'px';
    spark.style.top = y + 'px';
    const dx = (Math.random()*100-50)+'px';
    const dy = (Math.random()*-100)+'px';
    spark.style.setProperty('--x', dx);
    spark.style.setProperty('--y', dy);
    document.body.appendChild(spark);
    setTimeout(() => document.body.removeChild(spark), 1000);
  }
}

function showReceiver(x, y) {
  const receiver = document.createElement('div');
  receiver.className = 'sender';
  receiver.textContent = `Á≠æÊî∂‰∫∫Ôºö${receiverName}`;
  receiver.style.left = x + 'px';
  receiver.style.top = y + 'px';
  document.body.appendChild(receiver);
  setTimeout(() => document.body.removeChild(receiver), 2000);
}

function createBubble() {
  const bubble = document.createElement('div');
  bubble.className = 'bubble';
  const size = Math.random() * 20 + 10 + 'px';
  bubble.style.width = size;
  bubble.style.height = size;
  bubble.style.left = Math.random() * window.innerWidth + 'px';
  bubble.style.bottom = '0px';
  const duration = Math.random() * 5 + 5 + 's';
  bubble.style.animationDuration = duration;
  document.body.appendChild(bubble);
  setTimeout(() => document.body.removeChild(bubble), parseFloat(duration)*1000);
}
</script>

</body>
</html>